<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https: data: blob:; script-src 'self' https: 'unsafe-inline' 'unsafe-eval'; style-src 'self' https: 'unsafe-inline'; img-src 'self' https: data: blob:; font-src 'self' https: data:; frame-ancestors 'self' https://fox24coin.speedtestcustom.com;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <meta http-equiv="Referrer-Policy" content="no-referrer-when-downgrade">
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Community Audit | Fox24Coin</title>
    <meta name="description" content="Your voice shapes our future. Participate in the Fox24Coin Community Audit to share feedback, review our platform, and see live insights from our users.">
    <meta name="keywords" content="community audit, feedback, suggestions, fox24coin, user review, platform improvement, crypto transparency">
    <meta name="author" content="Michał Rzepczyński">
    <link rel="canonical" href="https://fox24coin.com/audit.html">

    <link rel="icon" type="image/png" href="https://fox24coin.com/fox24.png">
    <link rel="apple-touch-icon" href="https://fox24coin.com/fox24.png">

    <meta property="og:title" content="Community Audit | Fox24Coin">
    <meta property="og:description" content="Your voice shapes our future. Participate in the Fox24Coin Community Audit to share feedback and review our platform.">
    <meta property="og:image" content="https://fox24coin.com/Gold-Reserve.png">
    <meta property="og:url" content="https://fox24coin.com/audit.html">
    <meta property="og:type" content="website">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Community Audit | Fox24Coin">
    <meta name="twitter:description" content="Your voice shapes our future. Participate in the Fox24Coin Community Audit to share feedback and review our platform.">
    <meta name="twitter:image" content="https://fox24coin.com/Gold-Reserve.png">
    <meta name="robots" content="index, follow">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Heebo:wght@400;500;600&family=Nunito:wght@600;700;800&family=Pacifico&display=swap" rel="stylesheet">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

<style>
/* --- 1. Variables & Global Styles --- */
:root {
    /* Dark Theme (Default) */
    --gold-color: #ffd700;
    --primary-bg: #121212;
    --secondary-bg: #1a1a1a;
    --card-bg: #222;
    --border-color: #333;
    --primary-text: #e0e0e0;
    --secondary-text: #c0c0c0;
    --heading-text: #fff;
    --navbar-bg: rgba(18, 18, 18, 0.85);
    --purple-glow: rgba(160, 32, 240, 0.3);
    --gradient-start: #ffd700;
    --gradient-end: #a020f0;
}

body.light-mode {
    /* Light Theme Variables */
    --gold-color: #0d6efd; /* Gold changed to blue */
    --primary-bg: #f8f9fa;
    --secondary-bg: #ffffff;
    --card-bg: #ffffff;
    --border-color: #dee2e6;
    --primary-text: #212529;
    --secondary-text: #6c757d;
    --heading-text: #212529;
    --navbar-bg: rgba(255, 255, 255, 0.85);
    --purple-glow: rgba(123, 104, 238, 0.2);
    --gradient-start: #0d6efd;
    --gradient-end: #7b68ee;
}

html {
    scroll-behavior: smooth;
}

body {
    background-color: var(--primary-bg);
    color: var(--primary-text);
    font-family: 'Poppins', sans-serif;
    padding-top: 70px;
    transition: background-color 0.3s, color 0.3s;
}

h1, h2, h3, h4, h5, h6 {
    font-weight: 700;
    color: var(--heading-text);
}

a {
    text-decoration: none;
}

.section {
    padding: 80px 0;
    animation: fadeIn 1s ease-out forwards;
    position: relative;
    z-index: 2;
}

.text-gold {
    color: var(--gold-color) !important;
}

/* --- 2. Animations --- */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes animatedGradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

@keyframes backgroundGlow {
    0% { transform: translate(-50%, -50%) scale(1); opacity: 0.7; }
    50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
    100% { transform: translate(-50%, -50%) scale(1); opacity: 0.7; }
}

@keyframes blink {
    50% { background: transparent; }
}

/* --- 3. Navigation --- */
.navbar {
    background-color: var(--navbar-bg);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--border-color);
    z-index: 1000;
}

.navbar-brand {
    font-weight: 700;
    color: var(--heading-text) !important;
}

.nav-link {
    color: var(--secondary-text);
}

.nav-link:hover,
.nav-link.active {
    color: var(--gold-color);
}

.dropdown-menu {
    background-color: var(--card-bg);
    border: 1px solid var(--border-color);
}

.dropdown-item {
    color: var(--secondary-text);
}

.dropdown-item:hover {
    color: var(--gold-color) !important;
}

/* --- 4. Hero Section & Particles.js --- */
.hero-section {
    background: var(--primary-bg);
    color: var(--heading-text);
    height: 100vh; /* Ustawienie pełnej wysokości ekranu */
    display: flex;
    align-items: center;
    overflow: hidden;
    position: relative;
}

#particles-js {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: 1;
    pointer-events: none;
}

.hero-section::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 800px;
    height: 100vh;
    background: radial-gradient(circle, var(--purple-glow) 0%, rgba(18, 18, 18, 0) 70%);
    transform: translate(-50%, -50%);
    z-index: 1;
    animation: backgroundGlow 10s infinite ease-in-out;
}

body.light-mode .hero-section::before {
    background: radial-gradient(circle, var(--purple-glow) 0%, rgba(248, 249, 250, 0) 70%);
}

.hero-section .container {
    position: relative;
    z-index: 3;
}

.text-gradient-animated {
    background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end), var(--gradient-start));
    background-size: 200% 200%;
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    animation: animatedGradient 4s ease infinite;
}

/* --- 5. Buttons --- */
.btn-gold {
    background-color: var(--gold-color);
    border-color: var(--gold-color);
    color: #fff;
    font-weight: 600;
    transition: all 0.2s ease;
}

body:not(.light-mode) .btn-gold {
    color: #111;
}

.btn-gold:hover {
    filter: brightness(1.1);
    color: #fff;
    border-color: var(--gold-color);
}

.btn-outline-gold {
    color: var(--gold-color);
    border-color: var(--gold-color);
    border-width: 2px;
    font-weight: 600;
    transition: all 0.2s ease;
}

.btn-outline-gold:hover {
    color: #111;
    background-color: var(--gold-color);
    border-color: var(--gold-color);
}

body.light-mode .btn-outline-gold:hover {
    color: #fff;
}

.btn-gold:hover,
.btn-outline-gold:hover {
    box-shadow: 0 0 12px color-mix(in srgb, var(--gold-color) 70%, transparent);
    transform: scale(1.05) translateY(-2px);
}

/* --- 6. Audit Page & General Content Styles --- */
.content-wrapper {
    background-color: var(--secondary-bg);
    border: 1px solid var(--border-color);
    border-radius: 0.75rem;
    padding: 2rem;
}

.form-control {
    background-color: var(--card-bg);
    border: 1px solid var(--border-color);
    color: var(--primary-text);
}

.form-control:focus {
    background-color: var(--card-bg);
    border-color: var(--gold-color);
    box-shadow: 0 0 0 0.25rem rgba(255, 215, 0, 0.25);
    color: var(--primary-text);
}

body.light-mode .form-control:focus {
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}

.pagination .page-link {
    background-color: var(--card-bg);
    border-color: var(--border-color);
    color: var(--secondary-text);
}

.pagination .page-item.active .page-link {
    background-color: var(--gold-color);
    border-color: var(--gold-color);
    color: #111;
}

body.light-mode .pagination .page-item.active .page-link {
    color: #fff;
}

.accordion-item {
    background-color: var(--card-bg);
    border: 1px solid var(--border-color);
}

.accordion-button {
    background-color: transparent !important;
    color: var(--heading-text) !important;
}

.accordion-button:not(.collapsed) {
    color: var(--gold-color) !important;
    box-shadow: none;
    border-left: 4px solid var(--gold-color);
}

.accordion-body {
    color: var(--primary-text);
}

.list-group-subheader {
    font-weight: 600;
    color: var(--secondary-text);
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--border-color);
}

.list-group-item.code-file {
    background-color: var(--card-bg);
    border-color: var(--border-color);
    color: var(--primary-text);
    transition: all 0.2s;
    font-family: monospace;
}

.list-group-item.code-file:hover {
    background-color: var(--secondary-bg);
    color: var(--gold-color);
    border-color: var(--gold-color);
}

.code-file-icon {
    width: 20px;
    text-align: center;
}


/* --- 7. Audit Card Styles & Enhancements --- */
.audit-card {
    border: 1px solid var(--border-color);
    background-color: var(--card-bg);
    color: var(--primary-text);
}

.audit-card .card-header {
    color: var(--primary-text);
}

.audit-card .card-header small {
    color: var(--secondary-text);
}

/* Poprawka czytelności dla domyślnego tekstu Bootstrapa */
.audit-card .text-secondary {
    color: var(--secondary-text) !important;
}

.audit-card .card-text {
    line-height: 1.6;
    white-space: pre-wrap; /* Zachowuje entery i spacje w tekście */
}

/* Rating stars */
.rating-stars {
    cursor: pointer;
}

.rating-stars .fa-star {
    color: var(--border-color);
    font-size: 1.75rem;
    transition: color 0.2s;
}

.rating-stars .fa-star:hover,
.rating-stars .fa-star.hover,
.rating-stars .fa-star.selected {
    color: var(--gold-color) !important;
}

.audit-card .rating-display .fa-star {
    color: var(--gold-color);
}

.audit-card .rating-display .fa-star.empty {
    color: var(--border-color);
}

/* Suggestion block */
.audit-card .suggestion-heading {
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
    font-size: 0.9em;
    font-weight: bold;
    text-transform: uppercase;
    /* Używa koloru z przezroczystością dla lepszej adaptacji do motywów */
    color: rgba(var(--bs-body-color-rgb), 0.65);
}

.audit-card .suggestion-quote {
    padding: 1rem;
    margin: 0;
    border-left: 3px solid var(--gold-color);
    background-color: rgba(128, 128, 128, 0.1);
    border-radius: 4px;
    font-style: normal; /* Usunięcie kursywy dla czytelności */
    color: inherit;
    font-size: 1em;
    line-height: 1.6;
    white-space: pre-wrap;
}

/* "Read more" / Expandable content logic */
.audit-card .audit-details {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: max-height 0.5s ease-in-out, opacity 0.4s ease-in-out, margin-top 0.5s ease-in-out;
    transform: translate3d(0, 0, 0);
}

.audit-card.expanded .audit-details {
    max-height: 1000px; /* Wystarczająco duża wartość dla treści */
    opacity: 1;
    margin-top: 1rem;
}

.read-more-btn {
    display: inline-block;
    margin-top: 0.5rem;
    color: var(--gold-color);
    font-weight: bold;
    font-size: 0.9em;
    cursor: pointer;
    text-decoration: none;
    transition: filter 0.2s ease-in-out;
}

.read-more-btn:hover {
    text-decoration: none;
    filter: brightness(1.2);
}


/* --- 8. Insights Calculation Animation --- */
#calculating-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    z-index: 9998;
    display: flex;
    justify-content: center;
    align-items: center;
    backdrop-filter: blur(8px);
    opacity: 0;
    transition: opacity 0.3s;
    pointer-events: none;
}

#calculating-overlay.show {
    opacity: 1;
    pointer-events: auto;
}

.calculating-box {
    background: #0a0a0a;
    border-left: 3px solid var(--gold-color);
    color: #0f0;
    font-family: monospace;
    padding: 2rem;
    border-radius: 4px;
    width: 90%;
    max-width: 600px;
    text-align: left;
}

.calculating-box p {
    margin: 0 0 0.5rem 0;
    white-space: pre-wrap;
}

.calculating-box .cursor {
    display: inline-block;
    background: #0f0;
    width: 10px;
    height: 1.2em;
    animation: blink 1s step-end infinite;
}

/* --- 9. Other Sections --- */
.speedtest-frame {
    border: 1px solid var(--border-color);
    border-radius: 12px;
    overflow: hidden;
}

/* --- 10. Footer & Scroll Top Button --- */
footer {
    background-color: var(--secondary-bg);
    border-top: 1px solid var(--border-color);
}

#scrollTopBtn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1030;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: var(--gold-color);
    color: #fff;
    border: none;
    display: none;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 1.2rem;
    transition: all 0.3s;
}

body:not(.light-mode) #scrollTopBtn {
    color: #111;
}

#scrollTopBtn:hover {
    transform: translateY(-5px);
    filter: brightness(1.1);
}
</style>


</head>
<body class="dark-mode">
<div id="page-preloader"><div class="loader"></div></div>

<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="index.html">Fox24<span class="text-gold">Coin</span></a>

        <div class="d-flex align-items-center d-lg-none">
            <button id="theme-toggle-mobile" class="btn btn-sm btn-outline-gold me-2" aria-label="Toggle theme">
                <i class="fas fa-sun"></i>
            </button>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>

        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto align-items-lg-center">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="homeDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Home</a>
                    <ul class="dropdown-menu" aria-labelledby="homeDropdown">
                        <li><a class="dropdown-item" href="index.html">Home</a></li>
                        <li><a class="dropdown-item" href="widget.html">Widget</a></li>
                        <li><a class="dropdown-item" href="market.html">Crypto Market</a></li>
                        <li><a class="dropdown-item" href="https://fox24coin.com/scam-protection.html">Scam protection</a></li>
                        <li><a class="dropdown-item" href="vision.html">Fox24 Vision</a></li>
                        <li><a class="dropdown-item" href="audit.html">Community audit <span class="badge bg-primary rounded-pill" style="font-size: 0.6em; vertical-align: middle; margin-left: 4px;">NEW</span></a></li>
                    </ul>
                </li>
                <li class="nav-item"><a class="nav-link" href="tokenomics.html">Tokenomics</a></li>
                <li class="nav-item"><a class="nav-link" href="roadmap.html">Roadmap</a></li>
                <li class="nav-item"><a class="nav-link" href="team2.html">Team</a></li>
                <li class="nav-item"><a class="nav-link" href="blog.php">Blog</a></li>
                <li class="nav-item"><a class="nav-link" href="index.html#contact">Contact</a></li>
                <li class="nav-item"><a class="nav-link" href="https://fox24coin.com/uniswap.html">Price on Uniswap</a></li>
                
                <li class="nav-item ms-lg-3">
                    <a class="nav-link" href="https://github.com/rto-gtc/0xED9114c614aD6b948a1EA21f062F6e1D0b4e8308" target="_blank" aria-label="GitHub Repository" style="padding-top: 0.5rem; padding-bottom: 0.5rem;">
                        <i class="fab fa-github fa-lg"></i>
                    </a>
                </li>

                <li class="nav-item d-none d-lg-flex align-items-center ms-lg-2">
                    <button id="theme-toggle" class="btn btn-sm btn-outline-gold" aria-label="Toggle theme">
                        <i class="fas fa-sun"></i>
                    </button>
                </li>
                
                <li class="nav-item ms-lg-3">
                    <a class="btn btn-warning" href="whitepaper.pdf" target="_blank">Whitepaper</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<main>
    <section class="hero-section text-center">
        <div id="particles-js"></div>
        <div class="container">
            <h1 class="display-3 fw-bold">Your Voice, <span class="text-gradient-animated">Our Blueprint</span></h1>
            <p class="lead mt-3 mb-4 mx-auto" style="max-width: 700px;">
                Help shape the future of decentralized trust. The Community Audit is your platform to provide feedback, suggest improvements, and ensure Fox24Coin remains transparent and user-focused.
            </p>
            <a href="#feedback-form" class="btn btn-outline-gold btn-lg">
                <i class="fas fa-pen-to-square me-2"></i> Submit Your Audit
            </a>
        </div>
    </section>

    <div class="container">
        <section id="feedback-form" class="section">
            <div class="content-wrapper">
                <h2 class="mb-4 text-center">Share Your Perspective</h2>
                <form id="audit-form">
                    <div class="row g-4">
                        <div class="col-md-6">
                            <label for="nickname" class="form-label">Nickname <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="nickname" name="nickname" required>
                        </div>
                        <div class="col-md-6">
                            <label for="email" class="form-label">Email (Optional)</label>
                            <input type="email" class="form-control" id="email" name="email" placeholder="Your email will not be published">
                        </div>
                        <div class="col-12">
                            <label class="form-label">Overall Rating <span class="text-danger">*</span></label>
                            <div class="rating-stars" id="rating-stars">
                                <i class="fa-solid fa-star" data-value="1"></i><i class="fa-solid fa-star" data-value="2"></i><i class="fa-solid fa-star" data-value="3"></i><i class="fa-solid fa-star" data-value="4"></i><i class="fa-solid fa-star" data-value="5"></i><i class="fa-solid fa-star" data-value="6"></i><i class="fa-solid fa-star" data-value="7"></i><i class="fa-solid fa-star" data-value="8"></i><i class="fa-solid fa-star" data-value="9"></i><i class="fa-solid fa-star" data-value="10"></i>
                            </div>
                            <input type="hidden" id="rating" name="rating" required>
                        </div>
                        <div class="col-12">
                            <label for="feedback" class="form-label">General Feedback <span class="text-danger">*</span></label>
                            <textarea class="form-control" id="feedback" name="feedback" rows="5" placeholder="What do you like? What could be better?" required></textarea>
                        </div>
                        <div class="col-12">
                            <label for="suggestion" class="form-label">Suggestions for Improvement</label>
                            <textarea class="form-control" id="suggestion" name="suggestion" rows="4" placeholder="Do you have any specific ideas or feature requests?"></textarea>
                        </div>
                    </div>
                    <div class="text-center mt-4">
                        <button type="submit" class="btn btn-outline-gold btn-lg"><span class="spinner-border spinner-border-sm d-none me-2"></span>Submit Audit</button>
                    </div>
                    <div id="form-status" class="mt-3"></div>
                </form>
            </div>
        </section>

        <section id="live-audits" class="section">
            <h2 class="mb-5 text-center">Live Community Feedback</h2>
            <div id="audits-list" class="row g-4">
                <div class="text-center py-5">
                    <div class="spinner-border text-gold" style="width: 3rem; height: 3rem;" role="status"><span class="visually-hidden">Loading...</span></div>
                </div>
            </div>
            <nav id="pagination-container" aria-label="Audits navigation" class="d-flex justify-content-center mt-5"></nav>
        </section>
        
        <section id="insights-trigger" class="section text-center">
            <p class="lead mb-3">Ready to see the big picture?</p>
            <button id="calculate-insights-btn" class="btn btn-outline-gold btn-lg">
                <i class="fas fa-microchip me-2"></i> Calculate Community Insights
            </button>
        </section>

        <div id="calculating-overlay">
            <div class="calculating-box">
                <p>> INITIATING COMMUNITY DATA ANALYSIS...</p>
                <p>> SECURELY LOADING AUDIT SUBMISSIONS: <span id="calc-status">DONE</span></p>
                <p>> PARSING SENTIMENT & RATINGS...</p>
                <p>> <span id="calc-progress-bar">[----------] 0%</span></p>
                <p>> GENERATING STATISTICAL MODELS: <span id="calc-models">PENDING</span></p>
                <p>> VISUALIZING DATA: <span id="calc-visual">PENDING</span></p>
                <p>> ANALYSIS FINISHED. LAUNCHING DASHBOARD...<span class="cursor">_</span></p>
            </div>
        </div>

        <section id="audit-insights" class="section d-none">
            <h2 class="mb-5 text-center">Live Audit <span class="text-gold">Dashboard</span></h2>
            <div class="content-wrapper">
                <div class="row g-4 text-center">
                    <div class="col-md-6"><h3 class="text-secondary">Total Audits</h3><p id="total-audits" class="display-4 fw-bold">0</p></div>
                    <div class="col-md-6"><h3 class="text-secondary">Average Rating</h3><p id="average-rating" class="display-4 fw-bold">0.0 <span class="fs-3">/ 10</span></p></div>
                    <div class="col-12 mt-4"><h3 class="text-secondary mb-3">Rating Distribution</h3><canvas id="ratingsChart"></canvas></div>
                </div>
            </div>
        </section>
        
        <section id="transparency" class="section">
            <h2 class="mb-5 text-center">Project <span class="text-gold">Transparency</span></h2>
            <div class="content-wrapper">
                <div class="text-center">
                    <i class="fa-solid fa-code-commit fa-3x text-gold mb-3"></i>
                    <p class="fs-5">We Believe in <span class="fw-bold">Honest Code</span>.</p>
                    <p class="text-secondary">In the spirit of full transparency, we provide public access to the core files of our website. You can review our source code to verify that we don't run malicious scripts or hide anything from our community.</p>
                </div>
                <div class="list-group mt-4">
                    <div class="list-group-subheader">Core Pages (HTML)</div>
                    <a href="https://fox24coin.com/transparent_projekt/404.html" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-html5 me-2 text-gold code-file-icon"></i> 404.html</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/audit.html" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-html5 me-2 text-gold code-file-icon"></i> audit.html</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/dev.html" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-html5 me-2 text-gold code-file-icon"></i> dev.html</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/index.html" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-html5 me-2 text-gold code-file-icon"></i> index.html</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/market.html" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-html5 me-2 text-gold code-file-icon"></i> market.html</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/roadmap.html" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-html5 me-2 text-gold code-file-icon"></i> roadmap.html</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/scam-protection.html" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-html5 me-2 text-gold code-file-icon"></i> scam-protection.html</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/sitemap.html" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-html5 me-2 text-gold code-file-icon"></i> sitemap.html</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/team2.html" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-html5 me-2 text-gold code-file-icon"></i> team2.html</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/tokenomics.html" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-html5 me-2 text-gold code-file-icon"></i> tokenomics.html</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/uniswap.html" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-html5 me-2 text-gold code-file-icon"></i> uniswap.html</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/vision.html" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-html5 me-2 text-gold code-file-icon"></i> vision.html</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/widget.html" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-html5 me-2 text-gold code-file-icon"></i> widget.html</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/youtube.html" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-html5 me-2 text-gold code-file-icon"></i> youtube.html</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>

                    <div class="list-group-subheader">Backend Logic (PHP)</div>
                    <a href="https://fox24coin.com/transparent_projekt/ai.php" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-php me-2 text-gold code-file-icon"></i> ai.php</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/alchemy.php" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-php me-2 text-gold code-file-icon"></i> alchemy.php</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/api-proxy.php" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-php me-2 text-gold code-file-icon"></i> api-proxy.php</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/api.php" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-php me-2 text-gold code-file-icon"></i> api.php</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/api_proxy.php" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-php me-2 text-gold code-file-icon"></i> api_proxy.php</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/audit.php" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-php me-2 text-gold code-file-icon"></i> audit.php</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/blog.php" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-php me-2 text-gold code-file-icon"></i> blog.php</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/cors.php" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-php me-2 text-gold code-file-icon"></i> cors.php</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/dev.php" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-php me-2 text-gold code-file-icon"></i> dev.php</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/form.php" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-php me-2 text-gold code-file-icon"></i> form.php</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/post.php" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-php me-2 text-gold code-file-icon"></i> post.php</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/proxy.php" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-php me-2 text-gold code-file-icon"></i> proxy.php</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>

                    <div class="list-group-subheader">Data & Configuration</div>
                    <a href="https://fox24coin.com/transparent_projekt/cache_coingecko.json" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-solid fa-file-code me-2 text-gold code-file-icon"></i> cache_coingecko.json</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/cache_fox24.json" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-solid fa-file-code me-2 text-gold code-file-icon"></i> cache_fox24.json</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/fox24-tokenlist.json" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-solid fa-file-code me-2 text-gold code-file-icon"></i> fox24-tokenlist.json</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/sitemap.xml" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-solid fa-file-xml me-2 text-gold code-file-icon"></i> sitemap.xml</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/robots.txt" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-solid fa-robot me-2 text-gold code-file-icon"></i> robots.txt</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>

                    <div class="list-group-subheader">Documents & Assets</div>
                    <a href="https://fox24coin.com/transparent_projekt/whitepaper.pdf" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-solid fa-file-pdf me-2 text-gold code-file-icon"></i> whitepaper.pdf</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/transparent_projekt/README.md" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-markdown me-2 text-gold code-file-icon"></i> README.md</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                    <a href="https://fox24coin.com/LICENSE" target="_blank" class="list-group-item code-file d-flex justify-content-between align-items-center"><span><i class="fa-brands fa-markdown me-2 text-gold code-file-icon"></i> LICENSE</span><i class="fa-solid fa-arrow-up-right-from-square text-secondary"></i></a>
                
</div>
            </div>
        </section>

        <section id="faq" class="section">
            <h2 class="mb-5 text-center">Audit FAQ</h2>
            <div class="accordion accordion-flush" id="faqAccordion">
                <div class="accordion-item mb-3"><h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">Why is my feedback important?</button></h2><div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion"><div class="accordion-body">Your feedback provides invaluable, real-world insights. It helps us identify bugs, prioritize new features, and make data-driven decisions to improve your experience and the platform's security.</div></div></div>
                <div class="accordion-item mb-3"><h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">Is my feedback anonymous?</button></h2><div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion"><div class="accordion-body">Yes. We only require a nickname for display purposes. Providing an email is completely optional and is only used if we need to clarify a specific point in your feedback. Your personal data is never shared.</div></div></div>
                <div class="accordion-item mb-3"><h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">How often is the data updated?</button></h2><div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion"><div class="accordion-body">The audit list and the insights dashboard are updated in real-time. As soon as you submit your audit, it becomes part of the public data set, and the statistics are recalculated instantly.</div></div></div>
                <div class="accordion-item mb-3"><h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">What kind of suggestions are most helpful?</button></h2><div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion"><div class="accordion-body">While all feedback is welcome, the most helpful suggestions are specific and actionable. For example, instead of saying "make the site better," you could suggest "add a search bar to the market page" or "improve the loading speed on mobile."</div></div></div>
                <div class="accordion-item mb-3"><h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">Can I edit my audit after submitting it?</button></h2><div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion"><div class="accordion-body">Currently, submissions are final to maintain the integrity of the raw data. If you have a significant update or correction, we recommend submitting a new audit and mentioning that it is a revision of a previous entry.</div></div></div>
                <div class="accordion-item mb-3"><h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq6">How is the "Average Rating" calculated?</button></h2><div id="faq6" class="accordion-collapse collapse" data-bs-parent="#faqAccordion"><div class="accordion-body">It's a simple arithmetic mean. We sum up all the numerical ratings (from 1 to 10) provided by users and then divide by the total number of audits submitted. This gives a clear, unbiased snapshot of overall community sentiment.</div></div></div>
                <div class="accordion-item mb-3"><h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq7">What is the "Project Transparency" section for?</button></h2><div id="faq7" class="accordion-collapse collapse" data-bs-parent="#faqAccordion"><div class="accordion-body">It's our commitment to being open-source. That section provides direct links to our website's source code, allowing technically-inclined users to verify that our platform is secure and free from any malicious code or hidden functions.</div></div></div>
                <div class="accordion-item mb-3"><h2 class="accordion-header"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq8">What happens with the collected data?</button></h2><div id="faq8" class="accordion-collapse collapse" data-bs-parent="#faqAccordion"><div class="accordion-body">The data is used exclusively for project development and improvement. Our team analyzes the feedback and suggestions to guide our roadmap and prioritize updates that the community values most.</div></div></div>
            </div>
        </section>
        
        <section id="speedtest-gift" class="section">
            <div class="content-wrapper">
                <div class="row align-items-center g-5">
                    <div class="col-lg-6">
                        <h2 class="mb-3">A <span class="text-gold">Gift</span> for Our Community</h2>
                        <p class="text-secondary">As a thank you for your valuable input, we're providing a professional-grade tool to test your network performance. A fast and stable connection is crucial in the world of crypto. Use our custom Speedtest to ensure you're always operating at peak efficiency.</p>
                        <p class="fw-bold">Test your Ping, Jitter, Download, and Upload speeds now.</p>
                    </div>
                    <div class="col-lg-6">
                        <div class="speedtest-frame">
                            <iframe width="100%" height="650px" frameborder="0" src="https://fox24coin.speedtestcustom.com"></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </div>
</main>

<footer class="text-bg-dark">
  <div class="container py-5">
    <div class="row g-5">
      
      <div class="col-lg-4 col-md-6">
        <h4 class="footer-heading mb-4 text-uppercase text-warning">FOX24Coin</h4>
        <p class="text-secondary mb-3">Bridging Trust and Technology</p>
        <div class="d-flex pt-2 gap-2">
          <a href="https://t.me/fox24coin" target="_blank" class="btn btn-social" aria-label="Telegram">
            <i class="fab fa-telegram"></i>
          </a>
          <a href="https://x.com/fox24coin" target="_blank" class="btn btn-social" aria-label="Twitter">
            <i class="fab fa-twitter"></i>
          </a>
          <a href="https://www.facebook.com/profile.php?id=61575920820740" target="_blank" class="btn btn-social" aria-label="Facebook">
            <i class="fab fa-facebook-f"></i>
          </a>
          <a href="https://discord.com/channels/1415882766930677774/1415883138810511451" target="_blank" class="btn btn-social" aria-label="Discord">
            <i class="fab fa-discord"></i>
          </a>
        </div>
      </div>

      <div class="col-lg-2 col-md-6">
        <h4 class="footer-heading mb-4 text-uppercase text-warning">Links</h4>
        <ul class="list-unstyled mb-0">
          <li><a class="link-secondary d-block mb-2" href="roadmap.html">Roadmap</a></li>
          <li><a class="link-secondary d-block mb-2" href="team2.html">Our Team</a></li>
          <li><a class="link-secondary d-block mb-2" href="index.html#contact">Contact Us</a></li>
          <li><a class="link-secondary d-block mb-2" href="widget.html">Widget</a></li>
          <li><a class="link-secondary d-block mb-2" href="market.html">Crypto Market</a></li>
          <li><a class="link-secondary d-block" href="scam-protection.html">Scam Protection</a></li>
          <li><a class="link-secondary d-block" href="index.html">Home</a></li>
          <li><a class="link-secondary d-block" href="vision.html">Fox24 Vision</a></li>

        </ul>
      </div>

      <div class="col-lg-3 col-md-6">
        <h4 class="footer-heading mb-4 text-uppercase text-warning">Resources</h4>
        <ul class="list-unstyled mb-0">
          <li><a class="link-secondary d-block mb-2" href="tokenomics.html">Tokenomics</a></li>
          <li><a class="link-secondary d-block mb-2" href="whitepaper.pdf" target="_blank">Whitepaper</a></li>
          <li><a class="link-secondary d-block mb-2" href="index.html#hero">Join Presale</a></li>
          <li><a class="link-secondary d-block mb-2" href="https://fox24coin-1.dexkit.app/">DEX Exchange</a></li>
          <li><a class="link-secondary d-block mb-2" href="https://www.coingecko.com">Coingecko</a></li>
          <li><a class="link-secondary d-block mb-2" href="https://coinmarketcap.com">Coinmarketcap</a></li>
          <li><a class="link-secondary d-block" href="https://etherscan.io">Etherscan</a></li>
          <li><a class="link-secondary d-block" href="https://fox24coin.com/sitemap.html">Sitemap</a></li>

         </ul>
      </div>

      <div class="col-lg-3 col-md-6">
        <h4 class="footer-heading mb-4 text-uppercase text-warning">Contact Info</h4>
        <ul class="list-unstyled text-secondary mb-0">
          <li class="d-flex mb-3">
            <i class="fa fa-map-marker-alt me-3 pt-1 text-warning"></i>
            Henryka Sienkiewicza 85/87/lok. 1,<br>90-057 Łódź
          </li>
          <li class="d-flex mb-3">
            <i class="fa fa-phone-alt me-3 pt-1 text-warning"></i>+48 698 000 441
          </li>
          <li class="d-flex">
            <i class="fa fa-envelope me-3 pt-1 text-warning"></i>support@fox24coin.com
          </li>
        </ul>
      </div>

    </div>
  </div>

  <div class="container border-top border-secondary py-4">
    <div class="row align-items-center">
      <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
        &copy; <a class="fw-bold text-warning text-decoration-none" href="#">Fox24Coin</a>, All Rights Reserved.
      </div>
      <div class="col-md-6 text-center text-md-end">
        <a href="Privacy-Policy-and-Cookies-Policy.html" class="link-secondary text-decoration-none">Privacy & Cookies Policy</a>
      </div>
    </div>
  </div>
</footer>

<a href="#" id="scrollTopBtn" title="Go to top"><i class="fas fa-arrow-up"></i></a>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>

<script>
 document.addEventListener("DOMContentLoaded", () => {
    // --- ZMIENNE GLOBALNE I STAŁE ---
    const bodyEl = document.body;
    let allAudits = [];
    let currentPage = 1;
    const auditsPerPage = 6;

    // --- ELEMENTY DOM ---
    const themeToggleButtons = document.querySelectorAll('#theme-toggle, #theme-toggle-mobile');
    const scrollTopBtn = document.getElementById('scrollTopBtn');
    const calculateInsightsBtn = document.getElementById('calculate-insights-btn');
    const calculatingOverlay = document.getElementById('calculating-overlay');
    const auditInsightsSection = document.getElementById('audit-insights');
    const form = document.getElementById('audit-form');
    const ratingStarsContainer = document.getElementById('rating-stars');
    const ratingInput = document.getElementById('rating');
    const formStatus = document.getElementById('form-status');
    const auditsList = document.getElementById('audits-list');
    const paginationContainer = document.getElementById('pagination-container');

    // --- INICJALIZACJA ---
    const init = () => {
        // --- PRELOADER ---
        const preloader = document.getElementById('page-preloader');
        if (preloader) {
            preloader.classList.add('hidden');
        }

        initTheme();
        initScrollTopButton();
        initParticles();
        initForm();
        initRatingStars();
        initReadMore();
        initCalculateInsights();
        fetchAudits();
    };

    // --- MOTYWY ---
    const applyTheme = (theme) => {
        bodyEl.classList.toggle('light-mode', theme === 'light');
        themeToggleButtons.forEach(button => {
            const icon = button.querySelector('i');
            if (icon) {
                icon.classList.toggle('fa-sun', theme === 'dark');
                icon.classList.toggle('fa-moon', theme === 'light');
            }
        });
        if (window.ratingsChart instanceof Chart) {
            updateChartColors(window.ratingsChart, theme);
        }
    };

    const initTheme = () => {
        const savedTheme = localStorage.getItem('theme') || 'dark';
        applyTheme(savedTheme);
        themeToggleButtons.forEach(button => {
            button.addEventListener('click', () => {
                const newTheme = bodyEl.classList.contains('light-mode') ? 'dark' : 'light';
                localStorage.setItem('theme', newTheme);
                applyTheme(newTheme);
            });
        });
    };

    // --- PRZYCISK SCROLL-TOP ---
    const initScrollTopButton = () => {
        if (!scrollTopBtn) return;
        window.addEventListener('scroll', () => {
            scrollTopBtn.style.display = window.scrollY > 300 ? 'flex' : 'none';
        });
        scrollTopBtn.addEventListener('click', (e) => {
            e.preventDefault();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    };

    // --- PARTICLES.JS ---
    const initParticles = () => {
        if (typeof particlesJS === 'function') {
            const particleColor = getComputedStyle(document.documentElement).getPropertyValue('--gold-color').trim();
            const lineColor = getComputedStyle(document.documentElement).getPropertyValue('--gradient-end').trim();
            particlesJS('particles-js', {
                "particles": {
                    "number": { "value": 80, "density": { "enable": true, "value_area": 800 } },
                    "color": { "value": lineColor },
                    "shape": { "type": "circle" },
                    "opacity": { "value": 0.5, "random": false },
                    "size": { "value": 3, "random": true },
                    "line_linked": { "enable": true, "distance": 150, "color": particleColor, "opacity": 0.4, "width": 1 },
                    "move": { "enable": true, "speed": 2, "direction": "none", "random": false, "straight": false, "out_mode": "out", "bounce": false }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": { "onhover": { "enable": true, "mode": "repulse" }, "onclick": { "enable": true, "mode": "push" }, "resize": true },
                    "modes": { "repulse": { "distance": 100, "duration": 0.4 }, "push": { "particles_nb": 4 } }
                },
                "retina_detect": true
            });
        }
    };

    // --- LOGIKA AUDYTÓW ---
    const fetchAudits = async () => {
        if (!auditsList) return;
        try {
            const response = await fetch('audit.php?action=get_audits');
            if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
            allAudits = await response.json();
            currentPage = 1;
            displayAudits(currentPage);
            setupPagination();
            updateDashboard();
        } catch (e) {
            auditsList.innerHTML = `<p class="text-danger text-center col-12">Failed to load audits.</p>`;
            console.error("Błąd podczas pobierania audytów:", e);
        }
    };

    const displayAudits = page => {
        if (!auditsList) return;
        auditsList.innerHTML = '';
        const start = (page - 1) * auditsPerPage;
        const end = start + auditsPerPage;
        const paginatedAudits = allAudits.slice(start, end);

        if (paginatedAudits.length === 0) {
            auditsList.innerHTML = `<p class="text-secondary text-center col-12">Be the first to submit an audit!</p>`;
            return;
        }

        paginatedAudits.forEach(audit => {
            const ratingStarsHtml = Array.from({ length: 10 }, (_, i) => `<i class="fa-solid fa-star ${i < audit.rating ? '' : 'empty'}"></i>`).join('');
            const cardHtml = `
                <div class="col-lg-6 mb-4">
                    <div class="card audit-card">
                        <div class="card-header d-flex justify-content-between">
                            <span><i class="fas fa-user-pen me-2"></i>${audit.nickname}</span>
                            <small>${new Date(audit.timestamp).toLocaleDateString()}</small>
                        </div>
                        <div class="card-body">
                            <div class="rating-display mb-2">${ratingStarsHtml}</div>
                            <div class="audit-details">
                                ${audit.feedback ? `<p class="card-text">${audit.feedback}</p>` : ''}
                                ${audit.suggestion ? `<h6 class="suggestion-heading">Suggestion:</h6><blockquote class="suggestion-quote">${audit.suggestion}</blockquote>` : ''}
                            </div>
                            ${(audit.feedback || audit.suggestion) ? '<a href="#!" class="read-more-btn">Read more...</a>' : ''}
                        </div>
                    </div>
                </div>`;
            auditsList.insertAdjacentHTML('beforeend', cardHtml);
        });
    };

    const initReadMore = () => {
        if (!auditsList) return;
        auditsList.addEventListener('click', e => {
            if (e.target.classList.contains('read-more-btn')) {
                e.preventDefault();
                const card = e.target.closest('.audit-card');
                if (card) {
                    card.classList.toggle('expanded');
                    e.target.textContent = card.classList.contains('expanded') ? 'Collapse' : 'Read more...';
                }
            }
        });
    };

    const setupPagination = () => {
        if (!paginationContainer) return;
        paginationContainer.innerHTML = '';
        const pageCount = Math.ceil(allAudits.length / auditsPerPage);
        if (pageCount <= 1) return;

        const ul = document.createElement('ul');
        ul.className = 'pagination';
        for (let i = 1; i <= pageCount; i++) {
            const li = document.createElement('li');
            li.className = `page-item ${i === currentPage ? 'active' : ''}`;
            const a = document.createElement('a');
            a.className = 'page-link';
            a.href = '#';
            a.innerText = i;
            a.addEventListener('click', (e) => {
                e.preventDefault();
                currentPage = i;
                displayAudits(currentPage);
                const currentActive = paginationContainer.querySelector('.active');
                if (currentActive) currentActive.classList.remove('active');
                li.classList.add('active');
            });
            li.appendChild(a);
            ul.appendChild(li);
        }
        paginationContainer.appendChild(ul);
    };

    // --- FORMULARZ ---
    const initForm = () => {
        if (!form) return;
        form.addEventListener('submit', async e => {
            e.preventDefault();
            const submitBtn = form.querySelector('button[type="submit"]');
            const spinner = submitBtn.querySelector('.spinner-border');
            submitBtn.disabled = true;
            spinner.classList.remove('d-none');

            try {
                const formData = new FormData(form);
                const response = await fetch('audit.php', { method: 'POST', body: formData });
                const result = await response.json();

                formStatus.innerHTML = `<div class="alert alert-${result.success ? 'success' : 'danger'}">${result.message}</div>`;
                if (result.success) {
                    form.reset();
                    if(ratingStarsContainer) {
                        ratingStarsContainer.querySelectorAll('.fa-star').forEach(s => s.classList.remove('selected'));
                    }
                    fetchAudits();
                }
            } catch (err) {
                formStatus.innerHTML = `<div class="alert alert-danger">An unexpected error occurred.</div>`;
            } finally {
                submitBtn.disabled = false;
                spinner.classList.add('d-none');
            }
        });
    };

    const initRatingStars = () => {
        if (!ratingStarsContainer) return;
        const stars = ratingStarsContainer.querySelectorAll('.fa-star');
        stars.forEach(star => {
            star.addEventListener('mouseover', () => {
                const value = parseInt(star.dataset.value);
                stars.forEach(s => s.classList.toggle('hover', parseInt(s.dataset.value) <= value));
            });
            star.addEventListener('mouseout', () => stars.forEach(s => s.classList.remove('hover')));
            star.addEventListener('click', () => {
                const value = star.dataset.value;
                ratingInput.value = value;
                stars.forEach(s => s.classList.toggle('selected', parseInt(s.dataset.value) <= parseInt(value)));
            });
        });
    };

    // --- DASHBOARD I WYKRES ---
    const updateDashboard = () => {
        const totalAuditsEl = document.getElementById('total-audits');
        const avgRatingEl = document.getElementById('average-rating');
        if (!totalAuditsEl || !avgRatingEl) return;

        const total = allAudits.length;
        totalAuditsEl.innerText = total;

        const ratingCounts = Array(10).fill(0);
        if (total > 0) {
            const avg = (allAudits.reduce((sum, a) => sum + parseInt(a.rating), 0) / total).toFixed(1);
            avgRatingEl.innerHTML = `${avg} <span class="fs-3">/ 10</span>`;
            allAudits.forEach(a => {
                if (a.rating >= 1 && a.rating <= 10) {
                    ratingCounts[a.rating - 1]++;
                }
            });
        } else {
            avgRatingEl.innerHTML = `0.0 <span class="fs-3">/ 10</span>`;
        }
        renderRatingsChart(ratingCounts);
    };

    const renderRatingsChart = data => {
        if (typeof Chart === 'undefined') {
            console.error('Chart.js is not loaded.');
            return;
        }
        const canvas = document.getElementById('ratingsChart');
        if (!canvas) return;

        const ctx = canvas.getContext('2d');
        if (window.ratingsChart instanceof Chart) {
            window.ratingsChart.destroy();
        }

        const theme = bodyEl.classList.contains('light-mode') ? 'light' : 'dark';
        const colors = getChartColors(theme);

        window.ratingsChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'],
                datasets: [{ data, backgroundColor: colors.backgroundColor, borderColor: colors.borderColor, borderWidth: 1 }]
            },
            options: {
                scales: {
                    y: { beginAtZero: true, ticks: { color: colors.textColor, stepSize: 1 }, grid: { color: colors.gridColor } },
                    x: { ticks: { color: colors.textColor }, grid: { color: 'transparent' } }
                },
                plugins: { legend: { display: false } }
            }
        });
    };

    const getChartColors = (theme) => {
        return theme === 'light'
            ? { backgroundColor: 'rgba(13,110,253,0.5)', borderColor: 'rgba(13,110,253,1)', textColor: '#343a40', gridColor: '#dee2e6' }
            : { backgroundColor: 'rgba(255,215,0,0.5)', borderColor: 'rgba(255,215,0,1)', textColor: '#e0e0e0', gridColor: '#333' };
    };

    const updateChartColors = (chart, theme) => {
        const colors = getChartColors(theme);
        chart.data.datasets[0].backgroundColor = colors.backgroundColor;
        chart.data.datasets[0].borderColor = colors.borderColor;
        chart.options.scales.y.ticks.color = colors.textColor;
        chart.options.scales.x.ticks.color = colors.textColor;
        chart.options.scales.y.grid.color = colors.gridColor;
        chart.update();
    };

    // --- ANIMACJA OBLICZEŃ ---
    const initCalculateInsights = () => {
        if (!calculateInsightsBtn) return;

        const calcStatus = document.getElementById('calc-status');
        const calcProgressBar = document.getElementById('calc-progress-bar');
        const calcModels = document.getElementById('calc-models');
        const calcVisual = document.getElementById('calc-visual');
        const calculatingBox = document.querySelector('.calculating-box');

        const animateProgressBar = () => {
            return new Promise(resolve => {
                let progress = 0;
                const progressBarElement = document.getElementById('calc-progress-bar');
                const interval = setInterval(() => {
                    progress += 10;
                    const filledCount = Math.floor(progress / 10);
                    const emptyCount = 10 - filledCount;
                    const bar = `[${'#'.repeat(filledCount)}${'-'.repeat(emptyCount)}] ${progress}%`;
                    progressBarElement.textContent = bar;

                    if (progress >= 100) {
                        clearInterval(interval);
                        resolve();
                    }
                }, 150);
            });
        };
        
        const runCalculationAnimation = async () => {
            if (!calculatingOverlay || !auditInsightsSection || !calculatingBox) return;

            // 1. Reset i przygotowanie
            const paragraphs = calculatingBox.querySelectorAll('p');
            paragraphs.forEach(p => p.style.opacity = '0');
            calcStatus.textContent = 'LOADING...';
            calcModels.textContent = 'PENDING';
            calcVisual.textContent = 'PENDING';
            calcProgressBar.textContent = '[----------] 0%';
            calculatingOverlay.classList.add('show');

            // 2. Odkrywanie linii jedna po drugiej
            for (let i = 0; i < paragraphs.length; i++) {
                await new Promise(r => setTimeout(r, 200));
                paragraphs[i].style.opacity = '1';

                // Animuj konkretne linie po ich pojawieniu się
                if (i === 1) { // Linia "SECURELY LOADING"
                    await new Promise(r => setTimeout(r, 300));
                    calcStatus.textContent = 'DONE';
                }
                if (i === 3) { // Linia z paskiem postępu
                    await animateProgressBar();
                }
                if (i === 4) { // Linia "GENERATING STATISTICAL MODELS"
                    await new Promise(r => setTimeout(r, 300));
                    calcModels.textContent = 'SUCCESS';
                }
                 if (i === 5) { // Linia "VISUALIZING DATA"
                    await new Promise(r => setTimeout(r, 300));
                    calcVisual.textContent = 'COMPLETE';
                }
            }

            // 3. Zakończenie i odkrycie wyników
            await new Promise(r => setTimeout(r, 1000));
            calculatingOverlay.classList.remove('show');
            auditInsightsSection.classList.remove('d-none');
            auditInsightsSection.scrollIntoView({ behavior: 'smooth' });
        };

        calculateInsightsBtn.addEventListener('click', runCalculationAnimation);
    };

    // --- URUCHOMIENIE SKRYPTU ---
    init();

});
</script>


</body>
</html>